var __reflect=this&&this.__reflect||function(i,t,n){i.__class__=t,n?n.push(t):n=[t],i.__types__=i.__types__?n.concat(i.__types__):n},ConfigMgr=function(){function i(){this._configMap={},this._baseConfigFiles=null}return i.getInstance=function(){return this._instance||(this._instance=new i),this._instance},i.prototype.init=function(){var i=new JSZip(RES.getRes("config_zip"));this.initBaseManifest(i),this.initBaseCnf(i),this.initMapCnf(i),RES.destroyRes("config_zip")},i.prototype.initBaseManifest=function(i){this._baseConfigFiles=JSON.parse(i.file("data/manifest.json").asText())},i.prototype.initBaseCnf=function(i){for(var t in this._baseConfigFiles){var n=this._baseConfigFiles[t],e=JSON.parse(i.file("data/"+n+".json").asText());this.registerConfig(n,e)}},i.prototype.initMapCnf=function(t){var n=i.getInstance().getConfig("city");for(var e in n){var o="map_"+e,s=JSON.parse(t.file("map/"+e+".json").asText());this.registerConfig(o,s)}},i.prototype.registerConfig=function(i,t){return t?this._configMap[i]?(console.log("ConfigMgr_registerConfig config already exist",i),!1):(this._configMap[i]=t,!0):!1},i.prototype.getConfig=function(i){var t=this._configMap[i];return t||console.log("ConfigMgr_getConfig invalid configName",i),t},i.prototype.getMapConfig=function(i){var t="map_"+i;return this.getConfig(t)},i._instance=null,i}();__reflect(ConfigMgr.prototype,"ConfigMgr");