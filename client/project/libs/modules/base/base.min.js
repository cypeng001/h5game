var __reflect=this&&this.__reflect||function(t,o,e){t.__class__=o,e?e.push(o):e=[o],t.__types__=t.__types__?e.concat(t.__types__):e},h5game;!function(t){var o=function(){function t(t){this._actPool=[],this._inactPool=[],this._lastActiveTick=0,this._lastRecycleTick=0,this._autoRecycleInterval=6e4,this._name=t}return t.prototype.createObj=function(t){return{}},t.prototype.recycleObj=function(t){},t.prototype.releaseObj=function(t){},t.prototype.canRecycleObj=function(t){return!1},t.prototype.create=function(t){var o=null;return this.autoRecycle(),this._inactPool.length>0?(o=this._inactPool.pop(),this._actPool.push(o),o):(o=this.createObj(t),this._actPool.push(o),this._lastActiveTick=egret.getTimer(),o)},t.prototype.recycle=function(){var t=null;for(var o in this._actPool){var e=this._actPool[o];this.canRecycleObj(e)&&(t=t?t:[],t.push(o),this._inactPool.push(e),this.recycleObj(e))}if(t)for(var o in t)this._actPool.splice(t[o],1);this._lastRecycleTick=egret.getTimer()},t.prototype.autoRecycle=function(){egret.getTimer()-this._lastRecycleTick>this._autoRecycleInterval&&this.recycle()},t.prototype.release=function(){var t,o;for(t in this._actPool)o=this._actPool[t],this.releaseObj(o);for(t in this._inactPool)o=this._inactPool[t],this.releaseObj(o);this._actPool=null,this._inactPool=null},t.prototype.canRelease=function(){return 0==this._actPool.length},t.prototype.profile=function(){console.log("ObjPool:"+this._name+" act:"+this._actPool.length+" inact:"+this._inactPool.length)},t}();t.ObjPool=o,__reflect(o.prototype,"h5game.ObjPool")}(h5game||(h5game={}));var h5game;!function(t){var o=function(){function o(){this._poolMap={}}return o.prototype.createPool=function(o){return new t.ObjPool(o)},o.prototype.create=function(t){var o=this._poolMap[t];return o||(this._poolMap[t]=o=this.createPool(t)),o.create(t)},o.prototype.recycle=function(){for(var t in this._poolMap){var o=this._poolMap[t];o.recycle()}},o.prototype.releaseInactPool=function(){var t=null,o=null;for(o in this._poolMap){var e=this._poolMap[o];e.canRelease()&&(t=t?t:[],t.push(o))}if(t)for(var i in t){o=t[i];var e=this._poolMap[o];e.release(),delete this._poolMap[o]}},o.prototype.profile=function(){var t=0;for(var o in this._poolMap){var e=this._poolMap[o];e.profile(),t++}console.log("ObjFtry total:",t)},o}();t.ObjFtry=o,__reflect(o.prototype,"h5game.ObjFtry")}(h5game||(h5game={}));