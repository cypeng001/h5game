var __reflect=this&&this.__reflect||function(t,e,o){t.__class__=e,o?o.push(e):o=[e],t.__types__=t.__types__?o.concat(t.__types__):o},h5game;!function(t){var e=function(){function t(t){this._actPool=[],this._inactPool=[],this._lastActiveTick=0,this._lastRecycleTick=0,this._autoRecycleInterval=6e4,this._name=t}return t.prototype.createObj=function(t,e){return{}},t.prototype.recycleObj=function(t){},t.prototype.releaseObj=function(t){},t.prototype.canRecycleObj=function(t){return!1},t.prototype.create=function(t,e){var o=null;return this.autoRecycle(),this._inactPool.length>0?(o=this._inactPool.pop(),this._actPool.push(o),o):(o=this.createObj(t,e),this._actPool.push(o),this._lastActiveTick=egret.getTimer(),o)},t.prototype.recycle=function(){var t=null;for(var e in this._actPool){var o=this._actPool[e];this.canRecycleObj(o)&&(t=t?t:[],t.push(e),this._inactPool.push(o),this.recycleObj(o))}if(t)for(var e in t)this._actPool.splice(t[e],1);this._lastRecycleTick=egret.getTimer()},t.prototype.autoRecycle=function(){egret.getTimer()-this._lastRecycleTick>this._autoRecycleInterval&&this.recycle()},t.prototype.release=function(){var t,e;for(t in this._actPool)e=this._actPool[t],this.releaseObj(e);for(t in this._inactPool)e=this._inactPool[t],this.releaseObj(e);this._actPool=null,this._inactPool=null},t.prototype.canRelease=function(){return 0==this._actPool.length},t.prototype.profile=function(){console.log("ObjPool:"+this._name+" act:"+this._actPool.length+" inact:"+this._inactPool.length)},t}();t.ObjPool=e,__reflect(e.prototype,"h5game.ObjPool")}(h5game||(h5game={}));var h5game;!function(t){var e=function(){function e(){this._poolMap={}}return e.prototype.createPool=function(e){return new t.ObjPool(e)},e.prototype.getPool=function(t){return this._poolMap[t]},e.prototype.create=function(t,e){void 0===e&&(e=null);var o=this._poolMap[t];return o||(this._poolMap[t]=o=this.createPool(t)),o.create(t,e)},e.prototype.recycle=function(){for(var t in this._poolMap){var e=this._poolMap[t];e.recycle()}},e.prototype.releaseInactPool=function(){var t=null,e=null;for(e in this._poolMap){var o=this._poolMap[e];o.canRelease()&&(t=t?t:[],t.push(e))}if(t)for(var a in t){e=t[a];var o=this._poolMap[e];o.release(),delete this._poolMap[e]}},e.prototype.profile=function(){var t=0;for(var e in this._poolMap){var o=this._poolMap[e];o.profile(),t++}console.log("ObjFtry total:",t)},e}();t.ObjFtry=e,__reflect(e.prototype,"h5game.ObjFtry")}(h5game||(h5game={}));var h5game;!function(t){var e=function(){function t(){this.cur_state=-1,this.next_state=-1,this.next_st_data=null}return t.prototype.getCurState=function(){return this.cur_state},t.prototype.clearCurState=function(){this.cur_state=-1},t.prototype.update=function(t){if(this.next_state>0){var e=this.next_state,o=this.next_st_data;this.next_state=-1,this.next_st_data=null,this.exitState(this.cur_state,e),this.cur_state=e,this.enterState(e,o)}else this.updateState(t)},t.prototype.enterState=function(t,e){},t.prototype.exitState=function(t,e){},t.prototype.updateState=function(t){},t.prototype.setNextState=function(t,e){this.next_state=t,this.next_st_data=e},t}();t.BaseState=e,__reflect(e.prototype,"h5game.BaseState")}(h5game||(h5game={}));